import {
  getThemeValue,
  replaceThemeValuesForExport,
  ThemeProperty,
  preventSvgTruncation
} from './styles'
import { PLOT_FONT, PlOT_FOREGROUND_COLOR } from '../plots/components/constants'

describe('styles', () => {
  it('should get the theme value for the requested property when calling getThemeValue', () => {
    const styleValue = 'blue'

    document.documentElement.style.setProperty(
      ThemeProperty.ACCENT_COLOR,
      styleValue
    )

    expect(getThemeValue(ThemeProperty.ACCENT_COLOR)).toBe(styleValue)
  })
})

const svg =
  '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="marks" width="1076" height="718" viewBox="0 0 1076 718"><g fill="none" stroke-miterlimit="10" transform="translate(61,37)"><g class="mark-group role-frame root" role="graphics-object" aria-roledescription="group mark container"><g transform="translate(0,0)"><path class="background" aria-hidden="true" d="M0.5,0.5h913v618h-913Z" stroke="var(--vscode-editor-foreground)"/><g><g class="mark-group role-axis" aria-hidden="true"><g transform="translate(0.5,618.5)"><path class="background" aria-hidden="true" d="M0,0h0v0h0Z" pointer-events="none"/><g><g class="mark-rule role-axis-grid" pointer-events="none"><line transform="translate(0,0)" x2="0" y2="-618" stroke="var(--vscode-editor-foreground)" stroke-opacity="0.25" stroke-width="1" opacity="1"/><line transform="translate(51,0)" x2="0" y2="-618" stroke="var(--vscode-editor-foreground)" stroke-opacity="0.25" stroke-width="1" opacity="1"/><line transform="translate(101,0)" x2="0" y2="-618" stroke="var(--vscode-editor-foreground)" stroke-opacity="0.25" stroke-width="1" opacity="1"/><line transform="translate(152,0)" x2="0" y2="-618" stroke="var(--vscode-editor-foreground)" stroke-opacity="0.25" stroke-width="1" opacity="1"/><line transform="translate(203,0)" x2="0" y2="-618" stroke="var(--vscode-editor-foreground)" stroke-opacity="0.25" stroke-width="1" opacity="1"/><line transform="translate(254,0)" x2="0" y2="-618" stroke="var(--vscode-editor-foreground)" stroke-opacity="0.25" stroke-width="1" opacity="1"/><line transform="translate(304,0)" x2="0" y2="-618" stroke="var(--vscode-editor-foreground)" stroke-opacity="0.25" stroke-width="1" opacity="1"/><line transform="translate(355,0)" x2="0" y2="-618" stroke="var(--vscode-editor-foreground)" stroke-opacity="0.25" stroke-width="1" opacity="1"/><line transform="translate(406,0)" x2="0" y2="-618" stroke="var(--vscode-editor-foreground)" stroke-opacity="0.25" stroke-width="1" opacity="1"/><line transform="translate(457,0)" x2="0" y2="-618" stroke="var(--vscode-editor-foreground)" stroke-opacity="0.25" stroke-width="1" opacity="1"/><line transform="translate(507,0)" x2="0" y2="-618" stroke="var(--vscode-editor-foreground)" stroke-opacity="0.25" stroke-width="1" opacity="1"/><line transform="translate(558,0)" x2="0" y2="-618" stroke="var(--vscode-editor-foreground)" stroke-opacity="0.25" stroke-width="1" opacity="1"/><line transform="translate(609,0)" x2="0" y2="-618" stroke="var(--vscode-editor-foreground)" stroke-opacity="0.25" stroke-width="1" opacity="1"/><line transform="translate(659,0)" x2="0" y2="-618" stroke="var(--vscode-editor-foreground)" stroke-opacity="0.25" stroke-width="1" opacity="1"/><line transform="translate(710,0)" x2="0" y2="-618" stroke="var(--vscode-editor-foreground)" stroke-opacity="0.25" stroke-width="1" opacity="1"/><line transform="translate(761,0)" x2="0" y2="-618" stroke="var(--vscode-editor-foreground)" stroke-opacity="0.25" stroke-width="1" opacity="1"/><line transform="translate(812,0)" x2="0" y2="-618" stroke="var(--vscode-editor-foreground)" stroke-opacity="0.25" stroke-width="1" opacity="1"/><line transform="translate(862,0)" x2="0" y2="-618" stroke="var(--vscode-editor-foreground)" stroke-opacity="0.25" stroke-width="1" opacity="1"/><line transform="translate(913,0)" x2="0" y2="-618" stroke="var(--vscode-editor-foreground)" stroke-opacity="0.25" stroke-width="1" opacity="1"/></g></g><path class="foreground" aria-hidden="true" d="" pointer-events="none" display="none"/></g></g><g class="mark-group role-axis" role="graphics-symbol" aria-roledescription="axis" aria-label="X-axis titled \'preds\' for a linear scale with values from 0 to 1,800"><g transform="translate(0.5,618.5)"><path class="background" aria-hidden="true" d="M0,0h0v0h0Z" pointer-events="none"/><g><g class="mark-rule role-axis-tick" pointer-events="none"><line transform="translate(0,0)" x2="0" y2="5" stroke="var(--vscode-editor-foreground)" stroke-width="1" opacity="1"/><line transform="translate(51,0)" x2="0" y2="5" stroke="var(--vscode-editor-foreground)" stroke-width="1" opacity="1"/><line transform="translate(101,0)" x2="0" y2="5" stroke="var(--vscode-editor-foreground)" stroke-width="1" opacity="1"/><line transform="translate(152,0)" x2="0" y2="5" stroke="var(--vscode-editor-foreground)" stroke-width="1" opacity="1"/><line transform="translate(203,0)" x2="0" y2="5" stroke="var(--vscode-editor-foreground)" stroke-width="1" opacity="1"/><line transform="translate(254,0)" x2="0" y2="5" stroke="var(--vscode-editor-foreground)" stroke-width="1" opacity="1"/><line transform="translate(304,0)" x2="0" y2="5" stroke="var(--vscode-editor-foreground)" stroke-width="1" opacity="1"/><line transform="translate(355,0)" x2="0" y2="5" stroke="var(--vscode-editor-foreground)" stroke-width="1" opacity="1"/><line transform="translate(406,0)" x2="0" y2="5" stroke="var(--vscode-editor-foreground)" stroke-width="1" opacity="1"/><line transform="translate(457,0)" x2="0" y2="5" stroke="var(--vscode-editor-foreground)" stroke-width="1" opacity="1"/><line transform="translate(507,0)" x2="0" y2="5" stroke="var(--vscode-editor-foreground)" stroke-width="1" opacity="1"/><line transform="translate(558,0)" x2="0" y2="5" stroke="var(--vscode-editor-foreground)" stroke-width="1" opacity="1"/><line transform="translate(609,0)" x2="0" y2="5" stroke="var(--vscode-editor-foreground)" stroke-width="1" opacity="1"/><line transform="translate(659,0)" x2="0" y2="5" stroke="var(--vscode-editor-foreground)" stroke-width="1" opacity="1"/><line transform="translate(710,0)" x2="0" y2="5" stroke="var(--vscode-editor-foreground)" stroke-width="1" opacity="1"/><line transform="translate(761,0)" x2="0" y2="5" stroke="var(--vscode-editor-foreground)" stroke-width="1" opacity="1"/><line transform="translate(812,0)" x2="0" y2="5" stroke="var(--vscode-editor-foreground)" stroke-width="1" opacity="1"/><line transform="translate(862,0)" x2="0" y2="5" stroke="var(--vscode-editor-foreground)" stroke-width="1" opacity="1"/><line transform="translate(913,0)" x2="0" y2="5" stroke="var(--vscode-editor-foreground)" stroke-width="1" opacity="1"/></g><g class="mark-text role-axis-label" pointer-events="none"><text text-anchor="start" transform="translate(0,15)" font-family="var(--vscode-editor-font-family)" font-size="10px" font-weight="normal" fill="var(--vscode-editor-foreground)" opacity="1">0</text><text text-anchor="middle" transform="translate(50.72222222222222,15)" font-family="var(--vscode-editor-font-family)" font-size="10px" font-weight="normal" fill="var(--vscode-editor-foreground)" opacity="1">100</text><text text-anchor="middle" transform="translate(101.44444444444444,15)" font-family="var(--vscode-editor-font-family)" font-size="10px" font-weight="normal" fill="var(--vscode-editor-foreground)" opacity="1">200</text><text text-anchor="middle" transform="translate(152.16666666666666,15)" font-family="var(--vscode-editor-font-family)" font-size="10px" font-weight="normal" fill="var(--vscode-editor-foreground)" opacity="1">300</text><text text-anchor="middle" transform="translate(202.88888888888889,15)" font-family="var(--vscode-editor-font-family)" font-size="10px" font-weight="normal" fill="var(--vscode-editor-foreground)" opacity="1">400</text><text text-anchor="middle" transform="translate(253.61111111111111,15)" font-family="var(--vscode-editor-font-family)" font-size="10px" font-weight="normal" fill="var(--vscode-editor-foreground)" opacity="1">500</text><text text-anchor="middle" transform="translate(304.3333333333333,15)" font-family="var(--vscode-editor-font-family)" font-size="10px" font-weight="normal" fill="var(--vscode-editor-foreground)" opacity="1">600</text><text text-anchor="middle" transform="translate(355.05555555555554,15)" font-family="var(--vscode-editor-font-family)" font-size="10px" font-weight="normal" fill="var(--vscode-editor-foreground)" opacity="1">700</text><text text-anchor="middle" transform="translate(405.77777777777777,15)" font-family="var(--vscode-editor-font-family)" font-size="10px" font-weight="normal" fill="var(--vscode-editor-foreground)" opacity="1">800</text><text text-anchor="middle" transform="translate(456.5,15)" font-family="var(--vscode-editor-font-family)" font-size="10px" font-weight="normal" fill="var(--vscode-editor-foreground)" opacity="1">900</text><text text-anchor="middle" transform="translate(507.22222222222223,15)" font-family="var(--vscode-editor-font-family)" font-size="10px" font-weight="normal" fill="var(--vscode-editor-foreground)" opacity="1">1,000</text><text text-anchor="middle" transform="translate(557.9444444444445,15)" font-family="var(--vscode-editor-font-family)" font-size="10px" font-weight="normal" fill="var(--vscode-editor-foreground)" opacity="1">1,100</text><text text-anchor="middle" transform="translate(608.6666666666666,15)" font-family="var(--vscode-editor-font-family)" font-size="10px" font-weight="normal" fill="var(--vscode-editor-foreground)" opacity="1">1,200</text><text text-anchor="middle" transform="translate(659.3888888888889,15)" font-family="var(--vscode-editor-font-family)" font-size="10px" font-weight="normal" fill="var(--vscode-editor-foreground)" opacity="1">1,300</text><text text-anchor="middle" transform="translate(710.1111111111111,15)" font-family="var(--vscode-editor-font-family)" font-size="10px" font-weight="normal" fill="var(--vscode-editor-foreground)" opacity="1">1,400</text><text text-anchor="middle" transform="translate(760.8333333333334,15)" font-family="var(--vscode-editor-font-family)" font-size="10px" font-weight="normal" fill="var(--vscode-editor-foreground)" opacity="1">1,500</text><text text-anchor="middle" transform="translate(811.5555555555555,15)" font-family="var(--vscode-editor-font-family)" font-size="10px" font-weight="normal" fill="var(--vscode-editor-foreground)" opacity="1">1,600</text><text text-anchor="middle" transform="translate(862.2777777777777,15)" font-family="var(--vscode-editor-font-family)" font-size="10px" font-weight="normal" fill="var(--vscode-editor-foreground)" opacity="1">1,700</text><text text-anchor="end" transform="translate(913,15)" font-family="var(--vscode-editor-font-family)" font-size="10px" font-weight="normal" fill="var(--vscode-editor-foreground)" opacity="1">1,800</text></g><g class="mark-text role-axis-title" pointer-events="none"><text text-anchor="middle" transform="translate(456.5,41)" font-family="var(--vscode-editor-font-family)" font-size="12px" font-weight="normal" fill="var(--vscode-editor-foreground)" opacity="1">preds</text></g></g><path class="foreground" aria-hidden="true" d="" pointer-events="none" display="none"/></g></g><g class="mark-group role-axis" role="graphics-symbol" aria-roledescription="axis" aria-label="Y-axis titled \'digit\' for a discrete scale with 10 values: 0, 1, 2, 3, 4, ending with 9"><g transform="translate(0.5,0.5)"><path class="background" aria-hidden="true" d="M0,0h0v0h0Z" pointer-events="none"/><g><g class="mark-rule role-axis-tick" pointer-events="none"><line transform="translate(0,36)" x2="-5" y2="0" stroke="var(--vscode-editor-foreground)" stroke-width="1" opacity="1"/><line transform="translate(0,96)" x2="-5" y2="0" stroke="var(--vscode-editor-foreground)" stroke-width="1" opacity="1"/><line transform="translate(0,157)" x2="-5" y2="0" stroke="var(--vscode-editor-foreground)" stroke-width="1" opacity="1"/><line transform="translate(0,218)" x2="-5" y2="0" stroke="var(--vscode-editor-foreground)" stroke-width="1" opacity="1"/><line transform="translate(0,278)" x2="-5" y2="0" stroke="var(--vscode-editor-foreground)" stroke-width="1" opacity="1"/><line transform="translate(0,339)" x2="-5" y2="0" stroke="var(--vscode-editor-foreground)" stroke-width="1" opacity="1"/><line transform="translate(0,399)" x2="-5" y2="0" stroke="var(--vscode-editor-foreground)" stroke-width="1" opacity="1"/><line transform="translate(0,460)" x2="-5" y2="0" stroke="var(--vscode-editor-foreground)" stroke-width="1" opacity="1"/><line transform="translate(0,521)" x2="-5" y2="0" stroke="var(--vscode-editor-foreground)" stroke-width="1" opacity="1"/><line transform="translate(0,581)" x2="-5" y2="0" stroke="var(--vscode-editor-foreground)" stroke-width="1" opacity="1"/></g><g class="mark-text role-axis-label" pointer-events="none"><text text-anchor="end" transform="translate(-7,38.852941176470594)" font-family="var(--vscode-editor-font-family)" font-size="10px" font-weight="normal" fill="var(--vscode-editor-foreground)" opacity="1">0</text><text text-anchor="end" transform="translate(-7,99.44117647058823)" font-family="var(--vscode-editor-font-family)" font-size="10px" font-weight="normal" fill="var(--vscode-editor-foreground)" opacity="1">1</text><text text-anchor="end" transform="translate(-7,160.02941176470586)" font-family="var(--vscode-editor-font-family)" font-size="10px" font-weight="normal" fill="var(--vscode-editor-foreground)" opacity="1">2</text><text text-anchor="end" transform="translate(-7,220.61764705882354)" font-family="var(--vscode-editor-font-family)" font-size="10px" font-weight="normal" fill="var(--vscode-editor-foreground)" opacity="1">3</text><text text-anchor="end" transform="translate(-7,281.20588235294116)" font-family="var(--vscode-editor-font-family)" font-size="10px" font-weight="normal" fill="var(--vscode-editor-foreground)" opacity="1">4</text><text text-anchor="end" transform="translate(-7,341.7941176470588)" font-family="var(--vscode-editor-font-family)" font-size="10px" font-weight="normal" fill="var(--vscode-editor-foreground)" opacity="1">5</text><text text-anchor="end" transform="translate(-7,402.38235294117646)" font-family="var(--vscode-editor-font-family)" font-size="10px" font-weight="normal" fill="var(--vscode-editor-foreground)" opacity="1">6</text><text text-anchor="end" transform="translate(-7,462.9705882352941)" font-family="var(--vscode-editor-font-family)" font-size="10px" font-weight="normal" fill="var(--vscode-editor-foreground)" opacity="1">7</text><text text-anchor="end" transform="translate(-7,523.5588235294117)" font-family="var(--vscode-editor-font-family)" font-size="10px" font-weight="normal" fill="var(--vscode-editor-foreground)" opacity="1">8</text><text text-anchor="end" transform="translate(-7,584.1470588235294)" font-family="var(--vscode-editor-font-family)" font-size="10px" font-weight="normal" fill="var(--vscode-editor-foreground)" opacity="1">9</text></g><g class="mark-text role-axis-title" pointer-events="none"><text text-anchor="middle" transform="translate(-27.5615234375,309) rotate(-90) translate(0,-3)" font-family="var(--vscode-editor-font-family)" font-size="12px" font-weight="normal" fill="var(--vscode-editor-foreground)" opacity="1">digit</text></g></g><path class="foreground" aria-hidden="true" d="" pointer-events="none" display="none"/></g></g><g class="mark-rect role-mark marks" clip-path="url(#clip10)" role="graphics-object" aria-roledescription="rect mark container"><path aria-label="preds: 1288; digit: 0; rev: workspace" role="graphics-symbol" aria-roledescription="bar" d="M0,36.352941176470594h653.3022222222222v24.235294117647058h-653.3022222222222Z" fill="#945dd6"/><path aria-label="preds: 1003; digit: 1; rev: workspace" role="graphics-symbol" aria-roledescription="bar" d="M0,96.94117647058823h508.7438888888888v24.235294117647058h-508.7438888888888Z" fill="#945dd6"/><path aria-label="preds: 1078; digit: 2; rev: workspace" role="graphics-symbol" aria-roledescription="bar" d="M0,157.52941176470586h546.7855555555556v24.235294117647058h-546.7855555555556Z" fill="#945dd6"/><path aria-label="preds: 1311; digit: 3; rev: workspace" role="graphics-symbol" aria-roledescription="bar" d="M0,218.11764705882354h664.9683333333334v24.235294117647058h-664.9683333333334Z" fill="#945dd6"/><path aria-label="preds: 526; digit: 4; rev: workspace" role="graphics-symbol" aria-roledescription="bar" d="M0,278.70588235294116h266.7988888888889v24.235294117647058h-266.7988888888889Z" fill="#945dd6"/><path aria-label="preds: 633; digit: 5; rev: workspace" role="graphics-symbol" aria-roledescription="bar" d="M0,339.2941176470588h321.07166666666666v24.235294117647058h-321.07166666666666Z" fill="#945dd6"/><path aria-label="preds: 758; digit: 6; rev: workspace" role="graphics-symbol" aria-roledescription="bar" d="M0,399.88235294117646h384.47444444444443v24.235294117647058h-384.47444444444443Z" fill="#945dd6"/><path aria-label="preds: 915; digit: 7; rev: workspace" role="graphics-symbol" aria-roledescription="bar" d="M0,460.4705882352941h464.1083333333333v24.235294117647058h-464.1083333333333Z" fill="#945dd6"/><path aria-label="preds: 1666; digit: 8; rev: workspace" role="graphics-symbol" aria-roledescription="bar" d="M0,521.0588235294117h845.0322222222222v24.235294117647058h-845.0322222222222Z" fill="#945dd6"/><path aria-label="preds: 822; digit: 9; rev: workspace" role="graphics-symbol" aria-roledescription="bar" d="M0,581.6470588235294h416.93666666666667v24.235294117647058h-416.93666666666667Z" fill="#945dd6"/><path aria-label="preds: 1288; digit: 0; rev: 2cca1e3" role="graphics-symbol" aria-roledescription="bar" d="M0,12.117647058823536h653.3022222222222v24.235294117647058h-653.3022222222222Z" fill="#13adc7"/><path aria-label="preds: 1003; digit: 1; rev: 2cca1e3" role="graphics-symbol" aria-roledescription="bar" d="M0,72.70588235294117h508.7438888888888v24.235294117647058h-508.7438888888888Z" fill="#13adc7"/><path aria-label="preds: 1078; digit: 2; rev: 2cca1e3" role="graphics-symbol" aria-roledescription="bar" d="M0,133.2941176470588h546.7855555555556v24.235294117647058h-546.7855555555556Z" fill="#13adc7"/><path aria-label="preds: 1311; digit: 3; rev: 2cca1e3" role="graphics-symbol" aria-roledescription="bar" d="M0,193.88235294117646h664.9683333333334v24.235294117647058h-664.9683333333334Z" fill="#13adc7"/><path aria-label="preds: 526; digit: 4; rev: 2cca1e3" role="graphics-symbol" aria-roledescription="bar" d="M0,254.4705882352941h266.7988888888889v24.235294117647058h-266.7988888888889Z" fill="#13adc7"/><path aria-label="preds: 633; digit: 5; rev: 2cca1e3" role="graphics-symbol" aria-roledescription="bar" d="M0,315.0588235294117h321.07166666666666v24.235294117647058h-321.07166666666666Z" fill="#13adc7"/><path aria-label="preds: 758; digit: 6; rev: 2cca1e3" role="graphics-symbol" aria-roledescription="bar" d="M0,375.6470588235294h384.47444444444443v24.235294117647058h-384.47444444444443Z" fill="#13adc7"/><path aria-label="preds: 915; digit: 7; rev: 2cca1e3" role="graphics-symbol" aria-roledescription="bar" d="M0,436.235294117647h464.1083333333333v24.235294117647058h-464.1083333333333Z" fill="#13adc7"/><path aria-label="preds: 1666; digit: 8; rev: 2cca1e3" role="graphics-symbol" aria-roledescription="bar" d="M0,496.82352941176464h845.0322222222222v24.235294117647058h-845.0322222222222Z" fill="#13adc7"/><path aria-label="preds: 822; digit: 9; rev: 2cca1e3" role="graphics-symbol" aria-roledescription="bar" d="M0,557.4117647058823h416.93666666666667v24.235294117647058h-416.93666666666667Z" fill="#13adc7"/></g><g class="mark-group role-legend" role="graphics-symbol" aria-roledescription="legend" aria-label="Symbol legend titled \'rev\' for fill color with 2 values: workspace, 2cca1e3"><g transform="translate(931,0)"><path class="background" aria-hidden="true" d="M0,0h64v41h-64Z" pointer-events="none"/><g><g class="mark-group role-legend-entry"><g transform="translate(0,17)"><path class="background" aria-hidden="true" d="M0,0h0v0h0Z" pointer-events="none"/><g><g class="mark-group role-scope" role="graphics-object" aria-roledescription="group mark container"><g transform="translate(0,0)"><path class="background" aria-hidden="true" d="M0,0h63.7978515625v11h-63.7978515625Z" pointer-events="none" opacity="1"/><g><g class="mark-symbol role-legend-symbol" pointer-events="none"><path transform="translate(6,6)" d="M-5,-5h10v10h-10Z" fill="#945dd6" stroke-width="1.5" opacity="1"/></g><g class="mark-text role-legend-label" pointer-events="none"><text text-anchor="start" transform="translate(16,9)" font-family="var(--vscode-editor-font-family)" font-size="10px" font-weight="normal" fill="var(--vscode-editor-foreground)" opacity="1">workspace</text></g></g><path class="foreground" aria-hidden="true" d="" pointer-events="none" display="none"/></g><g transform="translate(0,13)"><path class="background" aria-hidden="true" d="M0,0h63.7978515625v11h-63.7978515625Z" pointer-events="none" opacity="1"/><g><g class="mark-symbol role-legend-symbol" pointer-events="none"><path transform="translate(6,6)" d="M-5,-5h10v10h-10Z" fill="#13adc7" stroke-width="1.5" opacity="1"/></g><g class="mark-text role-legend-label" pointer-events="none"><text text-anchor="start" transform="translate(16,9)" font-family="var(--vscode-editor-font-family)" font-size="10px" font-weight="normal" fill="var(--vscode-editor-foreground)" opacity="1">2cca1e3</text></g></g><path class="foreground" aria-hidden="true" d="" pointer-events="none" display="none"/></g></g></g><path class="foreground" aria-hidden="true" d="" pointer-events="none" display="none"/></g></g><g class="mark-text role-legend-title" pointer-events="none"><text text-anchor="start" transform="translate(0,9)" font-family="var(--vscode-editor-font-family)" font-size="12px" font-weight="normal" fill="var(--vscode-editor-foreground)" opacity="1">rev</text></g></g><path class="foreground" aria-hidden="true" d="" pointer-events="none" display="none"/></g></g><g class="mark-group role-title"><g transform="translate(456.5,-16)"><path class="background" aria-hidden="true" d="M0,0h0v0h0Z" pointer-events="none"/><g><g class="mark-text role-title-text" role="graphics-symbol" aria-roledescription="title" aria-label="Title text \'Histogram of Predictions\'" pointer-events="none"><text text-anchor="middle" transform="translate(0,9)" font-family="var(--vscode-editor-font-family)" font-size="12px" font-weight="normal" fill="var(--vscode-editor-foreground)" opacity="1">Histogram of Predictions</text></g></g><path class="foreground" aria-hidden="true" d="" pointer-events="none" display="none"/></g></g></g><path class="foreground" aria-hidden="true" d="" display="none"/></g></g></g><defs><clipPath id="clip10"><rect x="0" y="0" width="913" height="618"/></clipPath></defs></svg>'

describe('replaceThemeValuesForExport', () => {
  it('should replace the theme values in the svg with the actual theme values', () => {
    const foregroundColor = 'green'
    document.documentElement.style.setProperty(
      ThemeProperty.FOREGROUND_COLOR,
      foregroundColor
    )

    const font = 'sans-serif'
    document.documentElement.style.setProperty(ThemeProperty.FONT, font)

    const themedSvg = replaceThemeValuesForExport(svg, [
      ThemeProperty.FOREGROUND_COLOR,
      ThemeProperty.FONT
    ])
    expect(svg).toContain(PlOT_FOREGROUND_COLOR)
    expect(svg).toContain(PLOT_FONT)
    expect(svg).not.toContain(foregroundColor)
    expect(svg).not.toContain(font)

    expect(themedSvg).not.toContain(PlOT_FOREGROUND_COLOR)
    expect(themedSvg).not.toContain(PLOT_FONT)
    expect(themedSvg).toContain(foregroundColor)
    expect(themedSvg).toContain(font)
  })
})

describe('preventSvgTruncation', () => {
  it('should prevent the SVG from being truncated by the view box, width and height settings', () => {
    const fullSvg = preventSvgTruncation(svg)
    expect(fullSvg).toContain('height="100%"')
    expect(fullSvg).toContain('width="100%"')
    expect(fullSvg).not.toContain('viewBox')
  })
})
